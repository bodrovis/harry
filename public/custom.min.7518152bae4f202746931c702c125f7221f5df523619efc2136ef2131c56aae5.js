(()=>{function update_hash(){document.location.hash="#"+this.attr("id");}
$(document).ready(function(){$(".book-main .page-num").click(function(e){update_hash.apply($(this).closest(".row"));});$(".chapter-title").click(function(e){update_hash.apply($(this));});let $index=$(".index-wrapper");if($index.length>0){let index_contents='<div style="width: auto" class="index-toggle-visibility"><ul class="index">';$(".chapter-title").each(function(){let $this2=$(this);index_contents+='<li><a href="#'+$this2.attr("id")+'">'+$this2.text()+"</a></li>";});index_contents+="</ul></div>";$index.append(index_contents);}
let $nested_active=$(".main-menu .dropdown .is-active");if($nested_active.length>0){$nested_active.closest(".has-children").addClass("is-active");}
$(".js-menu-toggler").click(function(e){e.preventDefault();$this=$(this);$parent=$this.closest(".js-menu");$target=$parent.find($this.data("target"));$target.toggleClass("visible");});$(".js-show-dialog").click(function(e){e.preventDefault();$($(this).data("target")).show();});$(".js-close-dialog").click(function(e){e.preventDefault();$(this).parent(".js-dialog").hide();});$(".js-show-toggle").click(function(e){e.preventDefault();$this=$(this);target=$this.data("target");$parent=$this.parent();$parent.toggleClass("opened");$this.siblings(target).toggleClass("hidden");});});})();
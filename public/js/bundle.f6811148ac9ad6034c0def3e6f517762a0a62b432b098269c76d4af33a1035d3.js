(function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1)return null});function e(){document.location.hash="#"+this.getAttribute("id")}function t(e){document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",e)}t(function(){var t,n,s,o,i=document.querySelector(".main-menu .dropdown .is-active");if(!i||i.closest(".has-children").classList.add("is-active"),s=document.querySelector(".js-index-placeholder"),!!s){n='<ul class="index">',Array.prototype.forEach.call(document.querySelectorAll(".chapter-title"),function(e){n+='<li><a href="#'+e.getAttribute("id")+'">'+e.textContent+"</a></li>"}),n+="</ul>",s.innerHTML=n,o=document.querySelector(".js-show-index"),t=document.querySelector(".js-index-placeholder");let e=null;function a(){e=Popper.createPopper(o,t,{strategy:"absolute",placement:"top-start",modifiers:[{name:"offset",options:{offset:[-41,8]}}]})}function r(){e&&(e.destroy(),e=null)}o.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("opened"),t.hasAttribute("data-show")?(t.removeAttribute("data-show"),r()):(t.setAttribute("data-show",""),a())})}document.addEventListener("click",function(t){for(var n=t.target;n&&n!=this;n=n.parentNode)if(n.matches(".page-num")){e.apply(n.closest(".row"));break}},!1),document.addEventListener("click",function(t){for(var n=t.target;n&&n!=this;n=n.parentNode)if(n.matches(".chapter-title")){e.apply(n);break}},!1),document.addEventListener("click",function(e){for(var t=e.target;t&&t!=this;t=t.parentNode)if(t.matches(".js-show-dialog")){e.preventDefault(),document.querySelector(t.getAttribute("data-target")).style.display="block";break}},!1),document.onkeydown=function(e){e=e||window.event;var t=!1;"key"in e?t=e.key==="Escape"||e.key==="Esc":t=e.code===27,t&&(document.querySelector(".js-dialog").style.display="none")},document.addEventListener("click",function(e){for(var t=e.target;t&&t!=this;t=t.parentNode)if(t.matches(".js-close-dialog")){e.preventDefault(),t.closest(".js-dialog").style.display="none";break}},!1),document.addEventListener("click",function(e){for(var n,t=e.target;t&&t!=this;t=t.parentNode)if(t.matches(".js-menu-toggler")){e.preventDefault(),n=t.closest(".js-menu"),n.querySelector(t.getAttribute("data-target")).classList.toggle("visible");break}},!1),document.addEventListener("click",function(e){for(var n,s,t=e.target;t&&t!=this;t=t.parentNode)if(t.matches(".js-show-toggle")){e.preventDefault(),s=t.getAttribute("data-target"),n=t.parentNode,n.classList.toggle("opened"),n.querySelector(s).classList.toggle("hidden");break}},!1)})})()
(function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1)return null});function e(){document.location.hash="#"+this.getAttribute("id")}function t(e){document.readyState!="loading"?e():document.addEventListener("DOMContentLoaded",e)}t(function(){var s=document.querySelector(".main-menu .dropdown .is-active"),o,n,i,t;if(!s||s.closest(".has-children").classList.add("is-active"),o=document.querySelector(".js-index-placeholder"),!!o){n='<ul class="index">',Array.prototype.forEach.call(document.querySelectorAll(".chapter-title"),function(e){n+='<li><a href="#'+e.getAttribute("id")+'">'+e.textContent+"</a></li>"}),n+="</ul>",o.innerHTML=n,i=document.querySelector(".js-show-index"),t=document.querySelector(".js-index-placeholder");let e=null;function a(){e=Popper.createPopper(i,t,{strategy:"absolute",placement:"top-start",modifiers:[{name:"offset",options:{offset:[-41,8]}}]})}function r(){e&&(e.destroy(),e=null)}i.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("opened"),t.hasAttribute("data-show")?(t.removeAttribute("data-show"),r()):(t.setAttribute("data-show",''),a())})}document.addEventListener("click",function(n){for(var t=n.target;t&&t!=this;t=t.parentNode)if(t.matches(".page-num")){e.apply(t.closest(".row"));break}},!1),document.addEventListener("click",function(n){for(var t=n.target;t&&t!=this;t=t.parentNode)if(t.matches(".chapter-title")){e.apply(t);break}},!1),document.addEventListener("click",function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches(".js-show-dialog")){t.preventDefault(),document.querySelector(e.getAttribute("data-target")).style.display="block";break}},!1),document.onkeydown=function(e){e=e||window.event;var t=!1;"key"in e?t=e.key==="Escape"||e.key==="Esc":t=e.keyCode===27,t&&(document.querySelector(".js-dialog").style.display="none")},document.addEventListener("click",function(t){for(var e=t.target;e&&e!=this;e=e.parentNode)if(e.matches(".js-close-dialog")){t.preventDefault(),e.closest(".js-dialog").style.display="none";break}},!1),document.addEventListener("click",function(t){for(var e=t.target,n;e&&e!=this;e=e.parentNode)if(e.matches(".js-menu-toggler")){t.preventDefault(),n=e.closest(".js-menu"),n.querySelector(e.getAttribute("data-target")).classList.toggle("visible");break}},!1),document.addEventListener("click",function(t){for(var e=t.target,s,n;e&&e!=this;e=e.parentNode)if(e.matches(".js-show-toggle")){t.preventDefault(),s=e.getAttribute("data-target"),n=e.parentNode,n.classList.toggle("opened"),n.querySelector(s).classList.toggle("hidden");break}},!1)})})()